@using GraphQL.Client.Abstractions.Utilities
@model ResultIndexResponseViewModel
@inject IConfiguration configuration
<div class="govuk-main-wrapper govuk-width-container @(Model.AssessmentType == "short" ? string.Empty : "govuk-!-padding-top-7")">
    <div class="govuk-body">
        @if (Model.Results.Traits.Any())
        {
            <h2>
                What you told us motivates you
            </h2>
            <p class="dysac-personality-trait-summary govuk-body">
                It’s normal for what motivates you to change over time. These motivations are based on your responses today.
            </p>
            <div class="dysac-trait-tile-container">
                @foreach (var trait in Model.Results.Traits)
                {
                    <div class="dysac-personality-tile">
                        <div class="dysac-personality-tile-image-header">
                            <img class="dysac-personality-tile-image" src="@(configuration["AssetsCdn"]+trait.ImagePath)" alt="">
                            <h2>@trait.Title.ToPascalCase()</h2>
                        </div>

                        <div class="dysac-personality-tile-description">
                            <p>
                                @trait.Text
                            </p>
                        </div>
                    </div>
                }
            </div>

            @if (Model.Results.JobCategories.Any())
            {
                <div class="app-results govuk-!-margin-bottom-9">
                    <partial name="_JobCategories" />
                </div>

                <div class="govuk-!-margin-bottom-9">
                    <partial name="_NextSteps" />
                </div>

                <div class="govuk-!-margin-bottom-9">
                    <partial name="_SpeakToAnAdviser" />
                </div>


                <div>
                    <a href="#top">
                        <svg class="app-back-to-top__icon" xmlns="http://www.w3.org/2000/svg" width="13" height="17" viewBox="0 0 13 17">
                            <path fill="currentColor" d="M6.5 0L0 6.5 1.4 8l4-4v12.7h2V4l4.3 4L13 6.4z"></path>
                        </svg>Back to top
                    </a>
                </div>
            }
            else
            {
                <h2>We’re not sure which careers might interest you</h2>
                <p class="govuk-body">This is because of the different ways you answered some of the questions. Do not worry - this does not mean there are no careers for you. </p>
                <h2>What you can do next</h2>
                <div class="govuk-!-margin-bottom-9">
                    <partial name="_ExploreCareers" />
                </div>
                <div class="govuk-!-margin-bottom-9">
                    <partial name="_StartNewAssessment" />
                </div>
                <div class="govuk-!-margin-bottom-9">
                    <partial name="_SpeakToAnAdviser" />
                </div>
            }

        }
        else 
        {
            <h2>No clear results</h2>
            <p class="govuk-body">Sorry, we cannot work out what careers might interest you. This is because of the different ways you answered some of the questions. </p>
            <p class="govuk-body">Do not worry - this does not mean there are no careers for you. </p>
            <h2>What you can do next</h2>
            <div class="govuk-!-margin-bottom-9">
                <partial name="_StartNewAssessment" />
            </div>
            <div class="govuk-!-margin-bottom-9">
                <partial name="_ExploreCareers" />
            </div>
            <div class="govuk-!-margin-bottom-9">
                <partial name="_SpeakToAnAdviser" />
            </div>
        }
    </div>
</div>